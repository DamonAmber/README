# JavaScript

## 类型、值和变量
### JavaScript数据类型
- 原始类型(Primitive type)
    - [数字](#number)
    - 字符串
    - 布尔值
    - null
    - undefined
- 对象类型(Object type)
    - 对象
        - 一般对象
        - 类（特殊对象）
            - 数组
            - 函数
                - 一般函数
                - 构造函数（通过new运算符，利用一个函数新建对象，该函数为构造函数，constructor），每个构造函数定义了一类（class）对象
            - Date
            - RegExp
            - Error

### 变量
- JavaScript的变量是无类型的（untyped）因此变量可以被赋予任何类型的值，同一个变量也可以重新赋予不同类型的值。
- JS采用词法作用域（lexical scoping），不在任何函数内声明的变量叫做全局变量（global variable），它在JS程序中任何地方可见。而在函数内声明的变量具有函数作用域（function scope），并且只在函数内可见。

### <a id="number">数字</a>
- JS不区分整数值和浮点数值，JS中所有数字均用浮点数值表示。采用IEEE 754定义的64位浮点格式表示数字，即能表示的最大值为±1.7976931348623157 × 10^308 ，最小值为±5 × 10^-324
- 然而实际操作中，JS是基于32位证书的，例如数组的索引
- 整型直接量
    - 十进制
    - 十六进制：以0x 或 0X 为前缀，后跟随十六进制数的直接量。例如：`0xCB126`
    - 八进制：以0开始。例如：`032` 。在某些JS实现中可以采用八进制数，但是有些不支持，因此最好不要使用，在ECMAScript 6的严格模式下禁止使用八进制。
- 浮点型直接量
    - `123.1`
    - `123.1e-12 // 123.1 × 10^-12`
- JS中的算术运算
    - 加减乘除取余 `+ - * / %`
    - Math对象的属性定义函数和常亮
        - Math.pow(1,15) // 1的15次幂
        - Math.round(.8) // 四舍五入
        - Math.ceil(.3) // 向上求整
        - Math.floor(0.9) // 向下求整
        - Math.abs(-32) // 求绝对值
        - Math.max(x,y,z) // 求最大值
        - Math.min(x,y,z) // 求最小值
        - Math.random() // 生成一个大于0小于1的伪随机数
        - Math.PI // 圆周率
        - Math.E // 自然对数的底数
        - Math.sqrt(x) // x的平方根
        - Math.pow(3, 1/3) // 3的立方根
        - Math.sin(0) // 三角函数
        - Math.cos(0)
        - Math.atan(0)
        - Math.log(10) // 10的自然对数
        - Math.exp(3) // e的三次幂
- Infinity: JS中的算术运算在溢出（overflow）、下溢（underflow）或者被零整除时不会报错。当数字运算超过了所能表示的上限（溢出）的时候，结果会为一个无穷大（Infinity）值，在JS中以Infinity表示无穷大，-Infinity表示负无穷大。
```
123 / 0 // Infinity
-123 / 0 // -Infinity
```
- NaN: 被零整除在JS中是不报错的，知识返回正负无穷大，但是有一个例外，零除以零是没有意义的，结果会是一个非数字（Not-a-number）值，用NaN表示。无穷大除无穷大或者给负数开方等返回结果非数字或者无法转换为数字的时候，都会返回NaN。很特殊的是，NaN != NaN，因此只能通过x != x来判断x是否为NaN，当且仅当x为NaN时成立，isNaN()的作用与其相同。
```
NaN == NaN // false
Infinity == Infinity // true
Infinity == -Infinity // false
0 == -0 // true
```
- 二进制浮点数和四舍五入的错误
    - 实数有无数个，而JS中通过浮点数能表示的数只有有限个，因此，JS中使用的实数，往往只是一个近似的表示。
    - JS采用的IEEE-754表示法（几乎所有现代编程语言都采用），是一种二进制表示法，可以精准的表示二进制分数，例如1/2、1/8、1/1024，而我们常用的是十进制分数，例如1/10、1/100等，二进制浮点数表示法不能精确地表示类似于0.1这样简单的数字，JS可以有足够精度来使其十分近似0.1，但是却无法精准,任何使用二进制浮点数的编程语言都会出现这个问题。因此建议尽量进行整数的计算而不是小数（例如整数分而非带小数的元）。：
    ```
    var x = 0.3 - 0.2 // 0.09999999999999998
    var y = 0.2 - 0.1 // 0.1
    x == y // false
    ```
## JavaScript的垃圾回收机制